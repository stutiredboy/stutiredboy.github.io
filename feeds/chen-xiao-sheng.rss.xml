<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>碎碎念 - 陈小生</title><link>https://blog.chenxiaosheng.com/</link><description></description><lastBuildDate>Tue, 29 Mar 2022 11:24:00 +0800</lastBuildDate><item><title>当 cgroups 碰上超线程</title><link>https://blog.chenxiaosheng.com/posts/2022-03-29/cgroups-hyperthreading.html</link><description>&lt;p&gt;cgroups 是 Linux 内核提供的一种可以限制单个进程或者多个进程所使用资源的机制，可以对 cpu，内存等资源实现精细化的控制。当英特尔® 超线程技术处于激活状态时，CPU 会在每个物理内核上公开两个执行上下文。这意味着，一个物理内核现在就像两个“逻辑内核”一样。这个时候使用 cgroups 进行 cpu 资源隔离会出现什么情况呢？ &lt;/br&gt;&lt;img alt="" src="/static/cpu_arch_ex2.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Tue, 29 Mar 2022 11:24:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2022-03-29:/posts/2022-03-29/cgroups-hyperthreading.html</guid><category>misc</category><category>cgroups</category></item><item><title>速率限制算法：固定窗口与滑动窗口</title><link>https://blog.chenxiaosheng.com/posts/2022-03-28/rate-limit_fixed-window_sliding-window.html</link><description>&lt;p&gt;在生产环境中，我们经常需要通过一定的办法方案来保护我们的系统（比如 API）免受无意的或恶意的过度使用。在极端情况下，我们还需要对系统进行适度的降级，以确保系统的可用性。速率限制（rate limit）有助于自动化该过程（有时候也会称为流量控制）。&lt;/br&gt;&lt;img alt="image-20220328154213560" src="/static/sliding_window.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Mon, 28 Mar 2022 15:59:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2022-03-28:/posts/2022-03-28/rate-limit_fixed-window_sliding-window.html</guid><category>misc</category><category>rate limit</category></item><item><title>记一次 TiDB 时区设置异常问题排查</title><link>https://blog.chenxiaosheng.com/posts/2019-10-12/tidb-time_zone-settings.html</link><description>&lt;p&gt;两个配置一模一样的 TiDB 集群，在执行 &lt;code&gt;SELECT NOW();&lt;/code&gt; 操作的时候出现了不一样的结果，A 集群的时间与系统时间一致，B 集群的时间比系统时间少了 8 小时。OS、TiDB 配置是统一管理的，究竟是什么原因导致的呢？&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Sat, 12 Oct 2019 22:27:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2019-10-12:/posts/2019-10-12/tidb-time_zone-settings.html</guid><category>misc</category><category>dm</category><category>mysql</category><category>tidb</category><category>pingcap</category></item><item><title>TiDB DM 数据库同步 STEP BY STEP</title><link>https://blog.chenxiaosheng.com/posts/2019-09-29/tidb-dm-syncer.html</link><description>&lt;p&gt;前段时间，看到了一篇关于数据库选型的文章（MongoDB/TiDB/CockroachDB），忍不住感慨了一句，TiDB 一看就是大户人家，什么工具都可以有，什么工 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Sun, 29 Sep 2019 13:08:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2019-09-29:/posts/2019-09-29/tidb-dm-syncer.html</guid><category>misc</category><category>dm</category><category>mysql</category><category>tidb</category><category>syncer</category><category>pingcap</category></item><item><title>MySQL Seconds_Behind_Master 忽大忽小？莫慌</title><link>https://blog.chenxiaosheng.com/posts/2019-09-07/mysql-large-seconds_behind_master.html</link><description>&lt;p&gt;MySQL Slave Seconds_Behind_Master 是否可以直接做为数据复制是否延迟的衡量标准？在日常监控中是否有需要注意或特别避开的坑点？有没有更好的监控方式呢？&lt;/br&gt; &lt;img alt="MySQL Replication示意图" src="/static/mysql_repl.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Sat, 07 Sep 2019 22:33:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2019-09-07:/posts/2019-09-07/mysql-large-seconds_behind_master.html</guid><category>misc</category><category>mysql</category><category>replication</category></item><item><title>在 Mac 中对 iPhone 手机网络进行抓包的方法</title><link>https://blog.chenxiaosheng.com/posts/2018-11-02/capture-packet-from-ios-through-mac.html</link><description>&lt;ol&gt;
&lt;li&gt;通过数据线连接 Mac 笔记本，并通过 itunes 查询手机的 UUID
&lt;img alt="" src="/static/iphone_uuid.png"&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mac 提供了一个工具 rvictl （rvi=Remote Virtual Interface）可以为连上的 iphone 手机创建一个虚拟网 …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Fri, 02 Nov 2018 19:58:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2018-11-02:/posts/2018-11-02/capture-packet-from-ios-through-mac.html</guid><category>misc</category><category>tcpdump</category><category>wireshark</category><category>ios</category><category>mac</category></item><item><title>一次「安全」的变更将 redis cluster 送进了孤岛</title><link>https://blog.chenxiaosheng.com/posts/2018-07-16/redis-cluster-bind-bug.html</link><description>&lt;p&gt;一次以为安全的，天衣无缝的升级，却将 redis cluster 集群送进了孤岛。对于这次故障，没有借口，我们不能也不该出现这样的失误！我们将认真复盘改进自动化运维技术和发布验证流程，敬畏每一行代码，敬畏每一份托付。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Mon, 16 Jul 2018 00:51:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2018-07-16:/posts/2018-07-16/redis-cluster-bind-bug.html</guid><category>misc</category><category>redis</category></item><item><title>MongoDB 随机查询获取一条或 N 条记录的方法</title><link>https://blog.chenxiaosheng.com/posts/2018-05-24/mongodb-random-query.html</link><description>&lt;p&gt;MySQL 可以通过 &lt;code&gt;rand()&lt;/code&gt; 配合 &lt;code&gt;limit&lt;/code&gt; 获取随机的 N 条记录，那么在 MongoDB 上我们又该如何操作呢？&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Thu, 24 May 2018 12:14:13 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2018-05-24:/posts/2018-05-24/mongodb-random-query.html</guid><category>misc</category><category>mongodb</category></item><item><title>LXC 如何找出容器对应的 veth 设备</title><link>https://blog.chenxiaosheng.com/posts/2017-03-29/lxc-veth-pairs.html</link><description>&lt;p&gt;LXC 使用 veth 模式时，如果宿主机上创建了很多容器，那么宿主上将存在大量的 vethXXXX 设备，肉眼难以直接确认每个虚拟容器使用的是哪个 veth 设备。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Wed, 29 Mar 2017 11:42:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2017-03-29:/posts/2017-03-29/lxc-veth-pairs.html</guid><category>misc</category><category>lxc</category></item><item><title>记一次 Apache 性能调优</title><link>https://blog.chenxiaosheng.com/posts/2017-03-23/apache-performance-tuning.html</link><description>&lt;p&gt;每一次神优化背后都有一个很烧饼的设置（bug），刷一次负载下降 70%+ 的小目标。&lt;/br&gt;&lt;img src="/static/apache_load.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Thu, 23 Mar 2017 09:44:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2017-03-23:/posts/2017-03-23/apache-performance-tuning.html</guid><category>misc</category><category>apache</category></item><item><title>查询 dns server 使用的bind版本</title><link>https://blog.chenxiaosheng.com/posts/2014-07-07/query-remote-bind-version.html</link><description>&lt;p&gt;其实命令很简单，但我发现我老记不住，所以做个记录吧（我总是把version.bind记成bind.version，orz）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt; dig @&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt; TXT CHAOS version.bind
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;${server}换成你想查询的dns服 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Mon, 07 Jul 2014 20:21:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2014-07-07:/posts/2014-07-07/query-remote-bind-version.html</guid><category>misc</category><category>bind</category><category>dns</category><category>dig</category><category>named</category></item><item><title>crontab 同时显式指定day of month和day of week的特殊说明</title><link>https://blog.chenxiaosheng.com/posts/2014-05-09/cron-day-weekday-restricted.html</link><description>&lt;p&gt;man 5 crontab:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;           field         allowed values
           -----         --------------
           minute        0-59
           hour          0-23
           day of month  1-31
           month         1-12 (or names, see below)
           day of week   0-7 (0 or 7 is Sun, or use names)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;Note: The day of a command's execution can be specified by two fields -- day of month, and day …&lt;/p&gt;&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Fri, 09 May 2014 13:31:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2014-05-09:/posts/2014-05-09/cron-day-weekday-restricted.html</guid><category>misc</category><category>crontab</category></item><item><title>Java 发起Http Post请求</title><link>https://blog.chenxiaosheng.com/posts/2014-02-19/java-ssl-and-http_post.html</link><description>&lt;p&gt;对于一个 Java 小白，每完成一个新的功能，都表示相当不易，就连 Apache HttpClient 偶都表示没搞明白，
看起来好像不同版本还有不同的方 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Wed, 19 Feb 2014 17:16:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2014-02-19:/posts/2014-02-19/java-ssl-and-http_post.html</guid><category>misc</category><category>java</category><category>ssl</category><category>http</category><category>post</category></item><item><title>Java 使用自签证书访问https站点</title><link>https://blog.chenxiaosheng.com/posts/2013-12-26/java-use-self_signed_certificate.html</link><description>&lt;p&gt;最近被 Java 使用自签证书访问 https 的问题折腾得体无完肤，做为一名 Java 小白，
我也忍不住想感慨一下，不同 Java 程序员的水平差 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Thu, 26 Dec 2013 10:18:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2013-12-26:/posts/2013-12-26/java-use-self_signed_certificate.html</guid><category>misc</category><category>java</category><category>ssl</category></item><item><title>OpenID4Java 使用dumb模式（stateless）并禁用 discovery</title><link>https://blog.chenxiaosheng.com/posts/2013-12-25/openid4java-dumb_mode-and-disable_discovery.html</link><description>&lt;p&gt;使用无状态模式（dumb mode/stateless）发起 OpenID 认证请求：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;manager&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ConsumerManager&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getRealmVerifier&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="na"&gt;setEnforceRpId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;// 强制manager使用无状态模式&lt;/span&gt;
&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setMaxAssocAttempts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;禁用 discovery&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;// 不要使用manager.discover构造discoveries&lt;/span&gt;
&lt;span class="c1"&gt;// List …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Wed, 25 Dec 2013 12:20:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2013-12-25:/posts/2013-12-25/openid4java-dumb_mode-and-disable_discovery.html</guid><category>misc</category><category>openid</category><category>java</category></item><item><title>ssh client 通过 socks5 proxy 登录远程服务器</title><link>https://blog.chenxiaosheng.com/posts/2013-12-20/ssh-through-socks-proxy.html</link><description>&lt;p&gt;今天某同学需要登录某国家服务器（A），但从我朝过去网络延时非常大
发现从岛国过去的速度相当快，但因为岛国的服务 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Fri, 20 Dec 2013 12:20:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2013-12-20:/posts/2013-12-20/ssh-through-socks-proxy.html</guid><category>misc</category><category>ssh</category><category>proxy</category></item><item><title>sshd无法使用secureFX传输文件</title><link>https://blog.chenxiaosheng.com/posts/2013-09-24/sshd-sftp-securefx.html</link><description>&lt;p&gt;某同学表示，某些机器无法使用&lt;code&gt;secureFX&lt;/code&gt;进行文件传输。&lt;/p&gt;
&lt;p&gt;正常情况下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;RECV&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;AUTH_SUCCESS&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;RECV&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Server&lt;/span&gt; &lt;span class="n"&gt;Sftp&lt;/span&gt; &lt;span class="n"&gt;Version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;SEND&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;RealPath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;Resolved&lt;/span&gt; &lt;span class="n"&gt;RealPath&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;demo&lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;SEND&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;OpenDir&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;demo&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;而 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Tue, 24 Sep 2013 15:58:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2013-09-24:/posts/2013-09-24/sshd-sftp-securefx.html</guid><category>misc</category><category>sftp</category><category>secureFX</category><category>sshd</category></item><item><title>Django Admin 使用 filter_horizontal 不生效</title><link>https://blog.chenxiaosheng.com/posts/2013-09-23/django-filter_horizontal.html</link><description>&lt;p&gt;Django 1.2.7 admin在使用ManyToManyField的时候，默认使用垂直&lt;code&gt;filter_vertical&lt;/code&gt;方式进行显示与选择。此方式在选项比较多的时候，难以直观的看出哪些选项被选中，在尝试使用&lt;code&gt;filter_horizontal&lt;/code&gt;进行显示的时候，我们碰到了一些问题。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">陈小生</dc:creator><pubDate>Mon, 23 Sep 2013 15:25:00 +0800</pubDate><guid isPermaLink="false">tag:blog.chenxiaosheng.com,2013-09-23:/posts/2013-09-23/django-filter_horizontal.html</guid><category>misc</category><category>django</category><category>python</category></item></channel></rss>