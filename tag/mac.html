<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>老树的碎叶 - mac</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="website"/>
            <meta property="og:title" content="老树的碎叶"/>
            <meta property="og:url" content="http://blog.chenxiaosheng.com"/>
            <meta property="og:description" content="老树的碎叶"/>

    <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.1/css/bootstrap.min.css">
    <link href="http://cdn.staticfile.org/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://blog.chenxiaosheng.com/theme/css/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.chenxiaosheng.com/theme/css/style.css">
    <!--[if lt IE 9]>
        <script src="http://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
        <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <!--<![endif]-->

        <link href="http://blog.chenxiaosheng.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="老树的碎叶 ATOM Feed"/>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-30723232-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <!-- I don't need this //by tiredboy
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>-->
            <a href="http://blog.chenxiaosheng.com" class="navbar-brand">老树的碎叶</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-md-9 col-lg-9">
            <article>
                <h2><a href="http://blog.chenxiaosheng.com/posts/2014-11-17/mac_osx_yosemite_fix_wifi_problems.html">Mac OSX Yosemite 10.10 WIFI 掉线修复</a></h2>
                <div class="summary"><p>原先用的是 Mac Air 11，通过Time Machine迁移至 Mac Retina 13，最后升级成
Yosemite 10.10 的，系统已经用了一段时间的，最近才忽然出出WIFI掉线的问题。</p>
<p>而且此掉线比较奇怪，WIFI Connection正常，TCP/UDP/ICMP包均不正常，
并且我试过在ping/safari/ssh等均异常的情况下，我某正在下载内容的应用（genymotion），
却坚持到了最后，并成功下载完了近200M的内容，所以基本排除了无线路由的问题。</p>
<p>重启电脑无效，网上搜到这么一编文章：<a href="http://www.oschina.net/news/56361/os-x-yosemite-wifi-fault">别忙升级，苹果 Yosemite 频现 WiFi 断线综合症</a></p>
<p>虽然前面两种方法无效，但第三种方法还是给了我启示的，凭直接猜测应该是：</p>
<div class="highlight"><pre><span></span>/Library/Preferences/SystemConfiguration
</pre></div>


<p>这个目录，进行这个目录，果然看到一堆与wifi关键字的文件：</p>
<div class="highlight"><pre><span></span>$ ls
NetworkInterfaces.plist …</pre></div>
                    <a class="btn btn-default btn-xs" href="http://blog.chenxiaosheng.com/posts/2014-11-17/mac_osx_yosemite_fix_wifi_problems.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.chenxiaosheng.com/posts/2013-10-29/mac_osx_iterm2_utf8_gbk_switch.html">Mac OSX iTerm2 终端UTF-8和GBK编码自由切换</a></h2>
                <div class="summary"><p>老树使用的是Mac OSX系统，平时终端都是使用iTerm2替代默认的Terminal进行使用。</p>
<p>考虑到各种兼容性，个人一直使用的是UTF-8编码，但由于老树管理着大量服务器，并且可能使用的是GBK或者其它编码，经常由于终端环境编码的不同，导致登录服务器出现乱码，或者需要处理GBK文件时，要使用iconv进行多次编码转换，相当麻烦。</p>
<p>好在iTerm2使用了比较友好的Profile配置及切换方式，首先我的默认配置（Default Profile）使用了UTF-8编码：</p>
<p><img src="/static/iterm2_default_profile.png" /></p>
<p>我另外建立了一个Profile，叫GBK：</p>
<p><img src="/static/iterm2_gbk_profile.png" /></p>
<p>并编写了一个非常简单的切换脚本：</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># 使用GBK Profile</span>
<span class="nb">echo</span> -e <span class="s2">&quot;\033]50;SetProfile=GBK\a&quot;</span>
<span class="c1"># 环境编码切换为GBK</span>
<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>zh_CN.GBK
<span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>zh_CN.GBK
<span class="c1"># 更改当前 iTerm2 tab title</span>
<span class="nb">echo</span> -ne <span class="s2">&quot;\033]0;&quot;</span><span class="nv">$@</span><span class="s2">&quot;\007&quot;</span>
<span class="nv">$@</span>
<span class="nb">echo …</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://blog.chenxiaosheng.com/posts/2013-10-29/mac_osx_iterm2_utf8_gbk_switch.html">more ...</a>
                </div>
            </article>
            <hr/>

        </div>
        <div class="col-md-3 col-lg-3 hidden-xs hidden-sm well well-sm" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
            <!-- NOTIFICATION START -->
            <div class="bs-callout bs-callout-info">
              <p>记录和整理自己的经验，仅供自己参考。若恰好对你有用，也算是功德一件。@<a href="http://www.zhihu.com" target="blank">知乎</a></p>
            </div>
            <!-- NOTIFICATION END -->
            <!-- SOCIAL START -->
            <!--
                <li class="list-group-item">
                <span class="span-group-item"><a href="http://weibo.com/stutiredboy"><i class="icon-weibo icon-large"></i></a></span>
                <span class="span-group-item"><a href="https://www.facebook.com/stutiredboy"><i class="icon-facebook icon-large"></i></a></span>
                <span class="span-group-item"><a href="https://twitter.com/stutiredboy"><i class="icon-twitter icon-large"></i></a></span>
                <span class="span-group-item"><a href="https://github.com/stutiredboy"><i class="icon-github icon-large"></i></a></span>
                <span class="span-group-item"><a href="http://blog.chenxiaosheng.com/feeds/all.atom.xml"><i class="icon-rss icon-large"></i></a></span>
                </li>
            -->
            <!-- SOCIAL END -->
            <!-- CONTACT START -->
            <!--
            <li class="list-group-item"><h4><i class="icon-envelope icon-large"></i>联系老树</h4></li>
            <div class="text-center"><img src="/static/vCard.jpg" alt="联系我" class="img-rounded"></div>
            -->
            <!-- CONTACT END -->
            <!-- TAGS CLOUD START -->
            <li class="list-group-item"><a href="http://blog.chenxiaosheng.com/tags.html"><h4><i class="icon-tags icon-large"></i>Tags</h4></a></li>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/yosemite.html">yosemite</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/lxc.html">lxc</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/dba.html">dba</a></span>
                <span class="tag-2"><a href="http://blog.chenxiaosheng.com/tag/java.html">java</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/netease.html">netease</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/okr.html">okr</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/mysql.html">mysql</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/securefx.html">secureFX</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/openid.html">openid</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/django.html">django</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/apache.html">apache</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/pelican.html">pelican</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/mongodb.html">mongodb</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/wifi.html">wifi</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/dig.html">dig</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/openvpn.html">openvpn</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/post.html">post</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/ssh.html">ssh</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/named.html">named</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/debian.html">debian</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/dns.html">dns</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/windows.html">windows</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/jinja.html">jinja</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/proxy.html">proxy</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/http.html">http</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/iterm2.html">iterm2</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/linux.html">linux</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/arp.html">arp</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/osx.html">osx</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/scribe.html">scribe</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/ssl.html">ssl</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/crontab.html">crontab</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/mac.html">mac</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/pip.html">pip</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/sftp.html">sftp</a></span>
                <span class="tag-8"><a href="http://blog.chenxiaosheng.com/tag/sshd.html">sshd</a></span>
                <span class="tag-1"><a href="http://blog.chenxiaosheng.com/tag/python.html">python</a></span>
                <span class="tag-4"><a href="http://blog.chenxiaosheng.com/tag/bind.html">bind</a></span>
            <!-- TAGS CLOUD END -->
            <li class="list-group-item"><h4><i class="icon-comment icon-large"></i>最新评论</h4></li>
            <script type="text/javascript" src="http://stutiredboy.disqus.com/recent_comments_widget.js?num_items=15&hide_avatars=0&avatar_size=40&excerpt_length=200"></script>
            <!-- Uncomment if you want to show Social
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="http://weibo.com/stutiredboy"><i
                            class="icon-weibo-sign icon-large"></i>weibo
                    </a></li>
                    <li class="list-group-item"><a href="https://www.facebook.com/stutiredboy"><i
                            class="icon-facebook-sign icon-large"></i>facebook
                    </a></li>
                    <li class="list-group-item"><a href="https://twitter.com/stutiredboy"><i
                            class="icon-twitter-sign icon-large"></i>twitter
                    </a></li>
                    <li class="list-group-item"><a href="https://github.com/stutiredboy"><i
                            class="icon-github-sign icon-large"></i>github
                    </a></li>
                    <li class="list-group-item"><a href="http://blog.chenxiaosheng.com/feeds/all.atom.xml"><i
                            class="icon-rss-sign icon-large"></i>rss
                    </a></li>
            -->



            <!-- 使用上面的标签云，这里不需要了
                <li class="list-group-item tag-1">
                    <a href="http://blog.chenxiaosheng.com/tag/python.html">
                        python
                    </a>
                </li>
                <li class="list-group-item tag-2">
                    <a href="http://blog.chenxiaosheng.com/tag/java.html">
                        java
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/django.html">
                        django
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/debian.html">
                        debian
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/osx.html">
                        osx
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/ssl.html">
                        ssl
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/mac.html">
                        mac
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://blog.chenxiaosheng.com/tag/bind.html">
                        bind
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/yosemite.html">
                        yosemite
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/lxc.html">
                        lxc
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/dba.html">
                        dba
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/netease.html">
                        netease
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/okr.html">
                        okr
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/mysql.html">
                        mysql
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/securefx.html">
                        secureFX
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/openid.html">
                        openid
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/apache.html">
                        apache
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/pelican.html">
                        pelican
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/mongodb.html">
                        mongodb
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/wifi.html">
                        wifi
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/dig.html">
                        dig
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/openvpn.html">
                        openvpn
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/post.html">
                        post
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/ssh.html">
                        ssh
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/named.html">
                        named
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/dns.html">
                        dns
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/windows.html">
                        windows
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/jinja.html">
                        jinja
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/proxy.html">
                        proxy
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/http.html">
                        http
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/iterm2.html">
                        iterm2
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/linux.html">
                        linux
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/arp.html">
                        arp
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/scribe.html">
                        scribe
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/crontab.html">
                        crontab
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/pip.html">
                        pip
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/sftp.html">
                        sftp
                    </a>
                </li>
                <li class="list-group-item tag-8">
                    <a href="http://blog.chenxiaosheng.com/tag/sshd.html">
                        sshd
                    </a>
                </li>
            -->
        </ul>
    </section>
</aside>
</script>        </div>
    </div>
</div>

<script src="http://cdn.staticfile.org/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://blog.chenxiaosheng.com/theme/js/respond.min.js"></script>
<!-- Footer Start -->
<footer class="footer">
  <div class="container">
    <p class="text-right visible-xs">&copy; 2013 ChenXiaosheng</p>
    <p class="text-right hidden-xs">&copy; 2013 ChenXiaosheng • 基于 <a href="http://docs.getpelican.com">Pelican</a> - <a href="http://www.python.org">Python</a> - <a href="http://jinja.pocoo.org/">Jinja</a> - <a href="http://getbootstrap.com">Bootstrap</a> - <a href="http://github.com">Github</a> - MarkDown 构建</p>
    <p class="text-right hidden-xs">除非另有声明，本网站采用<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">自由转载-非商用-非衍生-保持署名| Creative Commons BY-NC-ND 3.0许可协议</a>授权</p>
  </div>
</footer>
<!-- Footer End -->
</body>
</html>